<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Plataforma Bloody - Registro de donantes de sangre en Sinaloa" />
  <h2 style="display:none;">Registro de Donante</h2>
  <link rel="stylesheet" href="../../css/style.css" />
  <script src="../../js/main.js" defer></script>
</head>
<body>
  <header>
    <div class="container header-inner" role="banner">
      <div class="logo-container">
        <a href="../../index.html" aria-label="Inicio - Bloody Platform" style="color: #fafafa; font-weight: bold; font-size: 1.3em; text-decoration: none;">Bloody</a>
        <img src="../../images/logo.png" alt="Logo Bloody, estilizado en rojo y blanco, símbolo de donación de sangre" />
      </div>
      <nav role="navigation" aria-label="Menú principal">
        <input type="checkbox" id="menu-toggle" class="menu-toggle" aria-label="Abrir menú" />
        <label for="menu-toggle" class="hamburger" tabindex="0">
          <span></span>
          <span></span>
          <span></span>
        </label>
        <ul class="main-nav">
          <li><a href="../../index.html">Inicio</a></li>
          <li><a href="../public/contact.html">Contacto</a></li>
          <li><a href="../public/faq.html">FAQ</a></li>
          <li><a href="register.html">Iniciar Sesión</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section class="auth-section" tabindex="-1" role="region" aria-labelledby="registro-title">
      <div class="auth-container">
        <h1 id="registro-title" class="auth-title">Registro de Donante</h1>

        <form class="auth-form" id="register-form" method="POST" autocomplete="on" aria-label="Formulario de registro para donantes">
          <div class="form-group">
            <label for="nombre_completo">Nombre completo</label>
            <input type="text" id="nombre_completo" name="nombre_completo" required placeholder="Ej. Juan Pérez" />
          </div>

          <div class="form-group">
            <label for="curp">CURP</label>
            <input type="text" id="curp" name="curp" required maxlength="18" pattern="[A-Z0-9]{18}" placeholder="Ej. PEPJ800101HDFRNN09" />
          </div>

          <div class="form-group">
            <label for="tipo_sangre">Tipo de sangre</label>
            <select id="tipo_sangre" name="tipo_sangre" required>
              <option value="">Selecciona</option>
              <option value="O+">O+</option>
              <option value="O−">O−</option>
              <option value="A+">A+</option>
              <option value="A−">A−</option>
              <option value="B+">B+</option>
              <option value="B−">B−</option>
              <option value="AB+">AB+</option>
              <option value="AB−">AB−</option>
            </select>
          </div>

          <div class="form-group">
            <label for="email">Correo electrónico</label>
            <input type="email" id="email" name="email" required placeholder="Ej. correo@ejemplo.com" autocomplete="email" />
          </div>

          <div class="form-group">
            <label for="password">Contraseña</label>
            <div style="position: relative;">
              <input
                type="password"
                id="password"
                name="password"
                placeholder="Minimo 8 caracteres"
                required
                pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=\[\]{};':\\|,.\/?]).{8,}$"
                autocomplete="new-password"
                style="padding-right: 2.5em;"
                aria-describedby="password-help"
              />
              <button type="button" id="toggle-password" style="position: absolute; right: 0.5em; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;">
                <span id="toggle-password-icon">Mostrar</span>
              </button>
            </div>
          </div>

          <div class="form-group">
            <label for="telefono">Teléfono</label>
            <input type="tel" id="telefono" name="telefono" required pattern="[0-9]{10,15}" placeholder="Ej. 5512345678" />
          </div>

          <div class="form-group">
            <label for="fecha_nacimiento">Fecha de Nacimiento</label>
            <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" required />
          </div>

          <div class="form-group">
            <label for="genero">Género</label>
            <select id="genero" name="genero" required>
              <option value="">Selecciona</option>
              <option value="Masculino">Masculino</option>
              <option value="Femenino">Femenino</option>
              <option value="Otro">Otro</option>
            </select>
          </div>

          <div class="form-group">
            <label for="discapacidad">¿Tienes alguna discapacidad? (opcional)</label>
            <select id="discapacidad" name="discapacidad">
              <option value="">Selecciona una opción</option>
              <option value="ninguna">Ninguna</option>
              <option value="visual">Visual</option>
              <option value="auditiva">Auditiva</option>
              <option value="motora">Motora</option>
            </select>
          </div>

          <div class="form-group">
  <label for="foto_perfil">Foto de perfil</label>
  <input type="file" id="foto_perfil" name="foto_perfil" accept="image/*" aria-describedby="foto-ayuda" />
  <small id="foto-ayuda">Formato JPG o PNG. Tamaño máximo recomendado: 2MB.</small>
</div>





          <button type="submit" class="btn-login">Registrarse</button>
        </form>

        <div id="registerMessage" class="mt-4 text-center text-sm"></div>

        <div class="auth-footer" style="margin-top: 1.5rem;">
          <p>¿Ya tienes cuenta? <a href="login.html" class="auth-link">Inicia sesión aquí</a></p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 Bloody. Todos los derechos reservados.</p>
  </footer>

  <script>
    // Mostrar/ocultar contraseña
    const passwordInput = document.getElementById('password');
    const toggleBtn = document.getElementById('toggle-password');
    const toggleIcon = document.getElementById('toggle-password-icon');
    if (passwordInput && toggleBtn && toggleIcon) {
      toggleBtn.addEventListener('click', function () {
        const isPassword = passwordInput.type === 'password';
        passwordInput.type = isPassword ? 'text' : 'password';
        toggleIcon.textContent = isPassword ? 'Ocultar' : 'Mostrar';
      });
    }

    // Limita la fecha máxima para mayores de 18 años
    (function() {
      const fechaInput = document.getElementById('fecha_nacimiento');
      if (fechaInput) {
        const today = new Date();
        today.setFullYear(today.getFullYear() - 18);
        const yyyy = today.getFullYear();
        const mm = String(today.getMonth() + 1).padStart(2, '0');
        const dd = String(today.getDate()).padStart(2, '0');
        fechaInput.max = `${yyyy}-${mm}-${dd}`;
      }
    })();
  </script>
</body>
</html>
